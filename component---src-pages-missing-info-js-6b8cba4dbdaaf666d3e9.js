"use strict";(self.webpackChunkohjelmoinnin_mooc=self.webpackChunkohjelmoinnin_mooc||[]).push([[520],{67570:function(t,e,a){var n=a(96540),i=a(64283),s=a(52969),o=a(54206),l=a(59503),r=a(27929),u=a(24656),d=a(36894),h=a(69818),c=a(40362);const m=d.default.div.withConfig({displayName:"CourseOptionsEditor__Row",componentId:"sc-15i8a3h-0"})(["margin-bottom:1.5rem;"]),_=d.default.form.withConfig({displayName:"CourseOptionsEditor__Form",componentId:"sc-15i8a3h-1"})([""]),p=d.default.div.withConfig({displayName:"CourseOptionsEditor__InfoBox",componentId:"sc-15i8a3h-2"})(["margin-bottom:2rem;"]),v=d.default.div.withConfig({displayName:"CourseOptionsEditor__FormContainer",componentId:"sc-15i8a3h-3"})(["height:100%;margin-top:2rem;"]),f=(0,d.default)(i.A).withConfig({displayName:"CourseOptionsEditor__WarningBox",componentId:"sc-15i8a3h-4"})(["margin:2rem 0;background:#f1a9a0;padding:1rem;font-weight:bold;"]);class g extends n.Component{constructor(){super(...arguments),this.onClick=async t=>{t.preventDefault(),this.setState({submitting:!0});let e={digital_education_for_all:this.state.digital_education_for_all,use_course_variant:this.state.use_course_variant,course_variant:"0",marketing:"0",research:"0"};const a={first_name:this.state.first_name,last_name:this.state.last_name,organizational_id:this.state.student_number};try{await(0,r.DG)({extraFields:e,userField:a}),this.setState({submitting:!1}),this.props.onComplete()}catch(n){this.setState({errorObj:n,submitting:!1})}},this.state={submitting:!1,error:!0,errorObj:void 0,digital_education_for_all:!1,marketing:!1,research:void 0,first_name:void 0,last_name:void 0,use_course_variant:void 0,course_variant:"",course_variants:[],email:void 0,student_number:void 0,loading:!0,focused:null},this.handleInput=t=>{const e=t.target.name,a=t.target.value;this.setState({[e]:a},(()=>{this.validate()}))},this.handleCheckboxInput=t=>{const e=t.target.name,a=t.target.checked;this.setState({[e]:a},(()=>{this.validate()}))},this.handleCourseVariantCheckbox=t=>{this.setState({use_course_variant:t.target.checked,course_variant:""},(()=>{this.validate()}))},this.handleFocus=t=>{const e=t.target.name;this.setState({focused:e})},this.handleUnFocus=()=>{this.setState({focused:null})},this.validate=()=>{this.setState((t=>{t.research,t.use_course_variant&&t.course_variant;return{error:!1}}))}}async componentDidMount(){var t,e,a,n,i,s,o,l,u;const d=await(0,r.yS)(),h=await(0,r.GF)();let c="t"===(null===(t=d.extra_fields)||void 0===t?void 0:t.use_course_variant),m=null!==(e=null===(a=d.extra_fields)||void 0===a?void 0:a.course_variant)&&void 0!==e?e:"";h.find((t=>t.key===m))||(c=!1,m=""),this.setState({first_name:null===(n=d.user_field)||void 0===n?void 0:n.first_name,last_name:null===(i=d.user_field)||void 0===i?void 0:i.last_name,email:d.email,student_number:null===(s=d.user_field)||void 0===s?void 0:s.organizational_id,digital_education_for_all:"t"===(null===(o=d.extra_fields)||void 0===o?void 0:o.digital_education_for_all),use_course_variant:c,course_variant:m,course_variants:h,marketing:"t"===(null===(l=d.extra_fields)||void 0===l?void 0:l.marketing),research:null===(u=d.extra_fields)||void 0===u?void 0:u.research,loading:!1},(()=>{this.validate()}))}render(){return n.createElement(v,null,n.createElement(u.A,{loading:this.state.loading,heightHint:"490px"},n.createElement(p,null,n.createElement(i.A,null,n.createElement(s.A,null,this.props.t("loggedInWith"),this.state.email)))),n.createElement("h1",null,this.props.t("studentInfo")),n.createElement(_,null,n.createElement(p,null,this.props.t("aboutYourself")),n.createElement(u.A,{loading:this.state.loading,heightHint:"490px"},n.createElement("div",null,n.createElement(m,null,n.createElement(o.A,{variant:"outlined",type:"text",label:this.props.t("firstName"),autoComplete:"given-name",name:"first_name",InputLabelProps:{shrink:this.state.first_name||"first_name"===this.state.focused},fullWidth:!0,value:this.state.first_name,onChange:this.handleInput,onFocus:this.handleFocus,onBlur:this.handleUnFocus})),n.createElement(m,null,n.createElement(o.A,{variant:"outlined",type:"text",label:this.props.t("lastName"),autoComplete:"family-name",name:"last_name",InputLabelProps:{shrink:this.state.last_name||"last_name"===this.state.focused},fullWidth:!0,value:this.state.last_name,onChange:this.handleInput,onFocus:this.handleFocus,onBlur:this.handleUnFocus})),n.createElement(m,null,n.createElement(o.A,{variant:"outlined",type:"text",label:this.props.t("sid"),name:"student_number",InputLabelProps:{shrink:this.state.student_number||"student_number"===this.state.focused},fullWidth:!0,value:this.state.student_number,onChange:this.handleInput,helperText:this.props.t("nosid"),onFocus:this.handleFocus,onBlur:this.handleUnFocus})))),n.createElement(m,null,n.createElement(l.A,{onClick:this.onClick,disabled:this.state.submitting||this.state.error,loading:this.state.submitting,variant:"contained",color:"primary",fullWidth:!0},this.props.t("save")))),this.state.error&&n.createElement(p,null,n.createElement("b",null,this.props.t("fillRequired"))),this.state.errorObj&&n.createElement(f,null,this.state.errorObj.toString()))}}e.A=(0,c.C)("common")((0,h.A)(g))},66889:function(t,e,a){a.r(e);var n=a(96540),i=a(67997),s=a(67570),o=a(41015),l=a(77744),r=a(79875);class u extends n.Component{constructor(){super(...arguments),this.onStepComplete=()=>{"undefined"==typeof window?(0,o.navigate)("/"):window.history.back()}}render(){return this.context.loggedIn?n.createElement(i.A,null,n.createElement(r.A,null,n.createElement(s.A,{courseVariant:"nodl",onComplete:this.onStepComplete}))):("undefined"!=typeof window&&(0,o.navigate)("/sign-in"),n.createElement("div",null,"Redirecting..."))}}u.contextType=l.Ay,e.default=(0,l.ko)(u)}}]);
//# sourceMappingURL=component---src-pages-missing-info-js-6b8cba4dbdaaf666d3e9.js.map